<div class="login-page__form">
  <h2>{{ 'auth.title' | translate }}</h2>
  @if (loginError()) {
  <p class="alert">
    <span class="error-panel">{{ 'auth.error' | translate }}</span>
  </p>
  }

  <div class="login-form">
    <mat-card class="login-card">
      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" id="loginForm">
          <div>
            <mat-form-field>
              <mat-label>{{ 'auth.form.email.label' | translate }}</mat-label>
              <input matInput formControlName="login" name="login" />
              <mat-error>
                @if (loginForm.get('login')?.hasError('required')) {
                {{ 'auth.form.email.error.required' | translate }}
                } @else if (loginForm.get('login')?.hasError('email')) {
                {{ 'auth.form.email.error.email' | translate }}
                }
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-label>{{
                'auth.form.password.label' | translate
              }}</mat-label>
              <input
                matInput
                type="password"
                formControlName="password"
                name="password"
                autocomplete="off"
              />
              <mat-error>
                @if (loginForm.get('password')?.hasError('required')) {
                {{ 'auth.form.password.error.required' | translate }}
                }
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <button
              mat-raised-button
              color="primary"
              type="submit"
              id="loginBtn"
              [disabled]="!loginForm.valid"
            >
              {{ 'auth.form.submitButton.label' | translate }}
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="register-link">
    {{ 'auth.register.label' | translate }}
    <a routerLink="/register">{{ 'auth.register.link' | translate }}</a>
  </div>
</div>
